(this["webpackJsonppaginating-react-demo"]=this["webpackJsonppaginating-react-demo"]||[]).push([[0],{20:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),c=(n(16),n(2)),r=n(12),o=n.n(r),i=(n(20),n(4)),s=n(5),l=n(8),u=n(7),d=n(13),h=n.n(d),g=(n(30),n(6)),f=n.n(g),j=function(e){var t=e.search,n=e.countries,c=e.clickHandler;return Object(a.jsx)("div",{className:"search-dropdown",hidden:!n.length||!t,children:n.map((function(e){var t=e.cca2,n=void 0===t?"":t,r=e.region,o=void 0===r?null:r,i=e.name,s=void 0===i?{}:i;return Object(a.jsxs)("div",{className:"search-item",onClick:function(){c(n)},children:[Object(a.jsx)(f.a,{country:n,format:"png",pngSize:64,basePath:"./img/flags",className:"d-block h-100"}),Object(a.jsxs)("div",{className:"search-item-content",children:[Object(a.jsx)("h3",{children:s.common}),Object(a.jsx)("h5",{children:o})]})]},n)}))})},m=n(3),b="LEFT",p="RIGHT",v=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e,c=[];a<=t;)c.push(a),a+=n;return c},x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).gotoPage=function(e){var t=a.props.onPageChanged,n=void 0===t?function(e){return e}:t,c=Math.max(0,Math.min(e,a.totalPages)),r={currentPage:c,totalPages:a.totalPages,pageLimit:a.pageLimit,totalRecords:a.totalRecords};a.setState({currentPage:c},(function(){return n(r)}))},a.handleClick=function(e){return function(t){t.preventDefault(),a.gotoPage(e)}},a.handleMoveLeft=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage-2*a.pageNeighbours-1)},a.handleMoveRight=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage+2*a.pageNeighbours+1)},a.fetchPageNumbers=function(){var e=a.totalPages,t=a.state.currentPage;t=a.props.goTo;var n=a.pageNeighbours,c=2*a.pageNeighbours+3;if(e>c+2){var r=Math.max(2,t-n),o=Math.min(e-1,t+n),i=v(r,o),s=r>2,l=e-o>1,u=c-(i.length+1);switch(!0){case s&&!l:var d=v(r-u,r-1);i=[b].concat(Object(m.a)(d),Object(m.a)(i));break;case!s&&l:var h=v(o+1,o+u);i=[].concat(Object(m.a)(i),Object(m.a)(h),[p]);break;case s&&l:default:i=[b].concat(Object(m.a)(i),[p])}return[1].concat(Object(m.a)(i),[e])}return v(1,e)};var c=e.totalRecords,r=void 0===c?null:c,o=e.pageLimit,s=void 0===o?30:o,l=e.pageNeighbours,u=void 0===l?0:l,d=e.goTo,h=void 0===d?1:d;return a.pageLimit="number"===typeof s?s:30,a.totalRecords="number"===typeof r?r:0,a.pageNeighbours="number"===typeof u?Math.max(0,Math.min(u,2)):0,a.goTo="number"===typeof h?h:1,a.totalPages=Math.ceil(a.totalRecords/a.pageLimit),a.state={currentPage:a.goTo},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.gotoPage(this.goTo)}},{key:"render",value:function(){var e=this;if(!this.totalRecords||1===this.totalPages)return null;var t=this.state.currentPage;t=this.props.goTo;var n=this.fetchPageNumbers();return Object(a.jsx)(c.Fragment,{children:Object(a.jsx)("nav",{"aria-label":"Countries Pagination",children:Object(a.jsx)("ul",{className:"pagination",children:n.map((function(n,c){return n===b?Object(a.jsx)("li",{className:"page-item",children:Object(a.jsxs)("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:e.handleMoveLeft,children:[Object(a.jsx)("span",{"aria-hidden":"true",children:"\xab"}),Object(a.jsx)("span",{className:"sr-only",children:"Previous"})]})},c):n===p?Object(a.jsx)("li",{className:"page-item",children:Object(a.jsxs)("a",{className:"page-link",href:"#","aria-label":"Next",onClick:e.handleMoveRight,children:[Object(a.jsx)("span",{"aria-hidden":"true",children:"\xbb"}),Object(a.jsx)("span",{className:"sr-only",children:"Next"})]})},c):Object(a.jsx)("li",{className:"page-item".concat(t===n?" active":""),children:Object(a.jsx)("a",{className:"page-link",href:"#",onClick:e.handleClick(n),children:n})},c)}))})})})}}]),n}(c.Component),O=function(e){var t=e.info,n=e.title;return Object(a.jsxs)("div",{className:"title",children:[n,": ",Object(a.jsx)("span",{className:"info",children:t})]})},w=function(e){var t=e.country,n=e.showFullInfo,c=e.clickHandler,r=e.code,o=t||{},i=o.cca2,s=void 0===i?"":i,l=o.capital,u=o.currency,d=o.languages,h=o.region,g=void 0===h?null:h,j=o.name,m=void 0===j?{}:j,b=n===s||r===s;return Object(a.jsxs)("div",{className:"country-card ".concat(b?"show-full-info":""),onClick:function(){return c(s)},children:[Object(a.jsxs)("div",{className:"".concat(b?"w-50 flex-column":"h-100","  d-flex"),children:[Object(a.jsx)("div",{className:"".concat(b?"w-100 h-maxCont":"h-100","  border-gray px-2 bg-white rounded-left"),children:Object(a.jsx)(f.a,{country:s,format:"png",pngSize:64,basePath:"./img/flags",className:"".concat(b?"w-100":"h-100"," d-block")})}),Object(a.jsxs)("div",{className:"d-flex flex-column justify-content-center ".concat(b?"align-items-center mt-2":"pl-3"),children:[Object(a.jsx)("span",{className:"country-name text-dark font-weight-bold mb-2",children:m.common}),Object(a.jsx)("span",{className:"country-region text-secondary text-uppercase",children:g})]})]}),Object(a.jsx)("div",{className:"d-flex flex-column justify-content-center pl-3",children:Object(a.jsxs)("div",{hidden:!b,children:[[l,u].map((function(e,t){return Object(a.jsx)(O,{info:e,title:["Capital","Currency"][t]},t)})),Object(a.jsxs)("div",{className:"d-flex flex-row flex-wrap",children:[Object(a.jsx)("span",{className:"country-name text-dark font-weight-bold",children:"Languages: "}),Object(a.jsx)("ul",{children:Object.values(d).map((function(e,t){return Object(a.jsx)("li",{className:"country-name",children:"".concat(e)},t)}))})]})]})})]})},N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={allCountries:[],currentCountries:[],currentPage:null,totalPages:null,showFullInfo:"",current:"",search:""},e.onPageChanged=function(t){var n=e.state.allCountries,a=t.currentPage,c=t.totalPages,r=t.pageLimit,o=(a-1)*r,i=n.slice(o,o+r);e.setState({currentPage:a,currentCountries:i,totalPages:c})},e.clickHandler=function(t){e.setState({showFullInfo:t,current:""})},e.handleChange=function(t){e.setState({search:t.target.value})},e.searchClickHandler=function(t){var n,a=e.state.allCountries;a.forEach((function(e,a){e.cca2===t&&(n=a)}));var c=Math.floor(n/18)+1,r=18*(c-1),o=a.slice(r,r+18);e.setState({currentPage:c,currentCountries:o,current:t,search:""})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=h.a.findAll().data,t=void 0===e?[]:e;this.setState({allCountries:t})}},{key:"render",value:function(){var e=this,t=this.state,n=t.allCountries,c=t.currentCountries,r=t.currentPage,o=t.totalPages,i=t.search,s=t.showFullInfo,l=t.current,u=n.length;if(0===u)return null;var d=n.filter((function(e){return e.name.common.toLowerCase().includes(i.toLowerCase())})),h=["text-dark py-2 pr-4 m-0",r?"border-gray border-right":""].join(" ").trim();return Object(a.jsx)("div",{onClick:function(t){t.target.closest(".search-box")||e.setState({search:""})},className:"container mb-5",children:Object(a.jsxs)("div",{className:"row d-flex flex-row py-5",children:[Object(a.jsxs)("div",{className:"w-100 px-4 py-5 d-flex flex-row flex-wrap align-items-center justify-content-between",children:[Object(a.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[Object(a.jsxs)("h2",{className:h,children:[Object(a.jsx)("strong",{className:"text-secondary",children:u})," ","Countries"]}),r&&Object(a.jsxs)("span",{className:"current-page d-inline-block h-100 pl-4 text-secondary",children:["Page ",Object(a.jsx)("span",{className:"font-weight-bold",children:r})," /"," ",Object(a.jsx)("span",{className:"font-weight-bold",children:o})]})]}),Object(a.jsx)("div",{className:"d-flex flex-row py-4 align-items-center",children:Object(a.jsx)(x,{totalRecords:u,pageLimit:18,pageNeighbours:1,goTo:r,onPageChanged:this.onPageChanged})}),Object(a.jsxs)("div",{className:"search-box position-relative",children:[Object(a.jsx)("input",{type:"search",onChange:function(t){return e.handleChange(t)}}),Object(a.jsx)(j,{countries:d,search:i,clickHandler:this.searchClickHandler})]})]}),Object(a.jsx)("div",{className:"country-cards",children:c.map((function(t){return Object(a.jsx)(w,{clickHandler:e.clickHandler,showFullInfo:s,country:t,code:l},t.cca3)}))})]})})}}]),n}(c.Component),y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(a.jsx)(N,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/build-react-pagination-demo",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/build-react-pagination-demo","/service-worker.js");y?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):k(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):k(e)}))}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.61eeb305.chunk.js.map